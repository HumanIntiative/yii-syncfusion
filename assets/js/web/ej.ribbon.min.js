/*!
*  filename: ej.ribbon.min.js
*  version : 13.1.0.21
*  Copyright Syncfusion Inc. 2001 - 2015. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min","./../common/ej.scroller.min","./ej.dropdownlist.min","./ej.button.min","./ej.tab.min","./ej.splitbutton.min","./ej.menu.min","./ej.checkbox.min"],n):n()})(function(){(function(n,t,r){t.widget("ejRibbon","ej.Ribbon",{element:null,validTags:["div"],model:null,_rootCSS:"e-ribbon",defaults:{width:null,applicationTab:{Type:null,itemID:null,menuSettings:{}},tabs:[{id:null,text:null,groups:[{text:null,type:null,contentID:null,customContent:null,alignType:"rows",enableGroupExpander:!1,content:[{groups:[{id:null,text:null,toolTip:null,toolTip:null,customToolTip:{title:null,content:null,prefixIcon:null},columns:null,itemHeight:null,itemWidth:null,expandedColumns:null,type:"button",galleryItems:[{text:null,toolTip:null,customToolTip:{},buttonSettings:{}}],customGalleryItems:[{text:null,toolTip:null,customToolTip:{},customItemType:"button",buttonSettings:{},menuId:"",menuSettings:{}}],contentID:null,enableSeparator:!1,isBig:null,cssClass:null,buttonSettings:{},splitButtonSettings:{},toggleButtonSettings:{},dropdownSettings:{}}],defaults:{}}]}]}],contextualTabs:[{backgroundColor:null,borderColor:null,tabs:[]}],onTabSelect:null,onTabClick:null,onTabAdd:null,onTabRemove:null,beforeTabRemove:null,onTabCreate:null,create:null,groupClick:null,onGalleryItemClick:null,onToggleButtonClick:null,groupExpand:null,selectedItemIndex:1,enabledItemIndex:[],disabledItemIndex:[0],allowResizing:!1,locale:"en-US",destory:null},dataTypes:{tabs:"array",contextualTabs:"array",disabledItemIndex:"data",enabledItemIndex:"data",selectedItemIndex:"number"},_destroy:function(){this.element.ejTab("destroy");this.element.find(".e-contextul").removeAttr("style")},_tags:[{tag:"tabs",attr:["id","text",[{tag:"groups",attr:["text","alignType","type","contentID",[{tag:"content",attr:["defaults.type","defaults.width","defaults.height","defaults.isBig",[{tag:"groups",attr:["id","columns","itemHeight","itemWidth","expandedColumns","contentID","text","type","toolTip","width","enableSeparator","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy","splitButtonSettings.contentType","splitButtonSettings.prefixIcon","splitButtonSettings.targetID","splitButtonSettings.buttonMode","splitButtonSettings.arrowPosition","splitButtonSettings.type","splitButtonSettings.click","splitButtonSettings.enabled","splitButtonSettings.showRoundedCorner","splitButtonSettings.enableRTL","splitButtonSettings.size","splitButtonSettings.height","splitButtonSettings.imagePosition","splitButtonSettings.width","splitButtonSettings.text","splitButtonSettings.suffixIcon","splitButtonSettings.create","splitButtonSettings.itemMouseOver","splitButtonSettings.itemSelected","splitButtonSettings.beforeOpen","splitButtonSettings.destroy","splitButtonSettings.cssClass","dropdownSettings.dataSource","dropdownSettings.text","dropdownSettings.value","dropdownSettings.select","dropdownSettings.width","dropdownSettings.showRoundedCorner","dropdownSettings.showPopupOnLoad","dropdownSettings.allowMultiSelection","dropdownSettings.enableRTL","dropdownSettings.enabled","dropdownSettings.caseSensitiveSearch","dropdownSettings.showCheckbox","dropdownSettings.checkAll","dropdownSettings.uncheckAll","dropdownSettings.enablePersistence","dropdownSettings.enableIncrementalSearch","dropdownSettings.readOnly","dropdownSettings.allowGrouping","dropdownSettings.fields","dropdownSettings.selectedItems","dropdownSettings.itemsCount","dropdownSettings.selectedItemIndex","dropdownSettings.height","dropdownSettings.cssClass","dropdownSettings.itemValue","dropdownSettings.popupHeight","dropdownSettings.targetID","dropdownSettings.waterMarkText","dropdownSettings.template","dropdownSettings.cascadeTo","dropdownSettings.query","dropdownSettings.create","dropdownSettings.popupHide","dropdownSettings.popupShown","dropdownSettings.beforePopupShown","dropdownSettings.change","dropdownSettings.checkChange","dropdownSettings.enableAnimation","dropdownSettings.destroy","toggleButtonSettings.contentType","toggleButtonSettings.defaultText","toggleButtonSettings.activeText","toggleButtonSettings.type","toggleButtonSettings.defaultPrefixIcon","toggleButtonSettings.activePrefixIcon","toggleButtonSettings.click","toggleButtonSettings.enabled","toggleButtonSettings.showRoundedCorner","toggleButtonSettings.enableRTL","toggleButtonSettings.enablePersistence","toggleButtonSettings.toggleState","toggleButtonSettings.preventToggle","toggleButtonSettings.size","toggleButtonSettings.imagePosition","toggleButtonSettings.height","toggleButtonSettings.width","toggleButtonSettings.cssClass","toggleButtonSettings.defaultText","toggleButtonSettings.activeText","toggleButtonSettings.defaultPrefixIcon","toggleButtonSettings.defaultSuffixIcon","toggleButtonSettings.activePrefixIcon","toggleButtonSettings.create","toggleButtonSettings.change","toggleButtonSettings.destroy","customToolTip.title","customToolTip.content","customToolTip.prefixIcon",[{tag:"galleryItems",attr:["text","toolTip","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.cssClass","buttonSettings.click","buttonSettings.width"]},{tag:"customGalleryItems",attr:["text","toolTip","menuId","customItemType","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.cssClass","buttonSettings.width","menuSettings.openOnClick"]}]]}]]}]]}]]},{tag:"contextualTabs",attr:["backgroundColor","borderColor",[{tag:"tabs",attr:["id","text",[{tag:"groups",attr:["text","alignType","type","contentID",[{tag:"content",attr:["defaults.type","defaults.width","defaults.height","defaults.isBig",[{tag:"groups",attr:["id","columns","itemHeight","itemWidth","expandedColumns","contentID","text","type","toolTip","width","enableSeparator","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy","splitButtonSettings.contentType","splitButtonSettings.prefixIcon","splitButtonSettings.targetID","splitButtonSettings.buttonMode","splitButtonSettings.arrowPosition","splitButtonSettings.type","splitButtonSettings.click","splitButtonSettings.enabled","splitButtonSettings.showRoundedCorner","splitButtonSettings.enableRTL","splitButtonSettings.size","splitButtonSettings.height","splitButtonSettings.imagePosition","splitButtonSettings.width","splitButtonSettings.text","splitButtonSettings.suffixIcon","splitButtonSettings.create","splitButtonSettings.itemMouseOver","splitButtonSettings.itemSelected","splitButtonSettings.beforeOpen","splitButtonSettings.destroy","splitButtonSettings.cssClass","dropdownSettings.dataSource","dropdownSettings.text","dropdownSettings.value","dropdownSettings.select","dropdownSettings.width","dropdownSettings.showRoundedCorner","dropdownSettings.showPopupOnLoad","dropdownSettings.allowMultiSelection","dropdownSettings.enableRTL","dropdownSettings.enabled","dropdownSettings.caseSensitiveSearch","dropdownSettings.showCheckbox","dropdownSettings.checkAll","dropdownSettings.uncheckAll","dropdownSettings.enablePersistence","dropdownSettings.enableIncrementalSearch","dropdownSettings.readOnly","dropdownSettings.allowGrouping","dropdownSettings.fields","dropdownSettings.selectedItems","dropdownSettings.itemsCount","dropdownSettings.selectedItemIndex","dropdownSettings.height","dropdownSettings.cssClass","dropdownSettings.itemValue","dropdownSettings.popupHeight","dropdownSettings.targetID","dropdownSettings.waterMarkText","dropdownSettings.template","dropdownSettings.cascadeTo","dropdownSettings.query","dropdownSettings.create","dropdownSettings.popupHide","dropdownSettings.popupShown","dropdownSettings.beforePopupShown","dropdownSettings.change","dropdownSettings.checkChange","dropdownSettings.enableAnimation","dropdownSettings.destroy","toggleButtonSettings.contentType","toggleButtonSettings.defaultText","toggleButtonSettings.activeText","toggleButtonSettings.type","toggleButtonSettings.defaultPrefixIcon","toggleButtonSettings.activePrefixIcon","toggleButtonSettings.click","toggleButtonSettings.enabled","toggleButtonSettings.showRoundedCorner","toggleButtonSettings.enableRTL","toggleButtonSettings.enablePersistence","toggleButtonSettings.toggleState","toggleButtonSettings.preventToggle","toggleButtonSettings.size","toggleButtonSettings.imagePosition","toggleButtonSettings.height","toggleButtonSettings.width","toggleButtonSettings.cssClass","toggleButtonSettings.defaultText","toggleButtonSettings.activeText","toggleButtonSettings.defaultPrefixIcon","toggleButtonSettings.defaultSuffixIcon","toggleButtonSettings.activePrefixIcon","toggleButtonSettings.create","toggleButtonSettings.change","toggleButtonSettings.destroy","customToolTip.title","customToolTip.content","customToolTip.prefixIcon",[{tag:"galleryItems",attr:["text","toolTip","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy"]},{tag:"customGalleryItems",attr:["text","toolTip","menuId","customItemType","buttonSettings.contentType","buttonSettings.type","buttonSettings.imagePosition","buttonSettings.prefixIcon","buttonSettings.click","buttonSettings.width","buttonSettings.cssClass","buttonSettings.enabled","buttonSettings.showRoundedCorner","buttonSettings.enableRTL","buttonSettings.repeatButton","buttonSettings.size","buttonSettings.height","buttonSettings.text","buttonSettings.timeInterval","buttonSettings.create","buttonSettings.click","buttonSettings.destroy","menuSettings.openOnClick","menuSettings.enableCenterAlign","menuSettings.showRooltLevelArrows","menuSettings.showSubLevelArrows","menuSettings.enableSeparator","menuSettings.enabled","menuSettings.orientation","menuSettings.menuType","menuSettings.animationType","menuSettings.subMenuDirection","menuSettings.fields","menuSettings.cssClass","menuSettings.contextMenuTarget","menuSettings.excludeTarget","menuSettings.height","menuSettings.width","menuSettings.titleText","menuSettings.create","menuSettings.beforeOpen","menuSettings.open","menuSettings.close","menuSettings.mouseover","menuSettings.mouseout","menuSettings.keydown","menuSettings.destroy"]}]]}]]}]]}]]}]]}],_setModel:function(t){var o,r,c,e,i,u,f;for(o in t)switch(o){case"selectedItemIndex":this.model.selectedItemIndex>0&&this._tabObj.model.disabledItemIndex.indexOf(this.model.selectedItemIndex)===-1&&this._ribbonTabs.eq(this.model.selectedItemIndex).is(":visible")&&this._tabObj.option({selectedItemIndex:this.model.selectedItemIndex});break;case"disabledItemIndex":var r,l=this.model.disabledItemIndex.length,s=this.model.disabledItemIndex,a=this.element.find(".e-link"),h;for(this.model.disabledItemIndex.push(0),this._tabObj.option({disabledItemIndex:this.model.disabledItemIndex}),i=0;i<l;i++)r=this._ribbonTabs.eq(s[i]).parent().parent(),(r.hasClass("e-contextli")||r.hasClass("e-contextliset"))&&r.addClass("e-disable"),this._tabObj.model.selectedItemIndex!=0&&this._tabObj.model.selectedItemIndex===s[i]&&(h=a.eq(s[i]).attr("href"),n(h).append(n("#"+this._id+"_disabled")),n(h).css("position","relative"),n("#"+this._id+"_disabled").show());break;case"enabledItemIndex":for(c=this.model.enabledItemIndex.length,e=this._tabUl.find(".e-contextualtabset"),i=0;i<c;i++)this.model.enabledItemIndex[i]!==0&&this._ribbonTabs.eq(this.model.enabledItemIndex[i]).is(":visible")||(this.model.enabledItemIndex.splice(i,1),--c,--i);for(this._conTabsRemove(),this._tabObj.option({enabledItemIndex:this.model.enabledItemIndex}),this._contextualTabs(),u=0;u<this.model.enabledItemIndex.length;u++)this._tabText.eq(this.model.enabledItemIndex[u]).parent().removeClass("e-disable"),this._tabText.eq(this.model.enabledItemIndex[u]).parent().css("position",""),r=this._ribbonTabs.eq(this.model.enabledItemIndex[u]).parent().parent(),(r.hasClass("e-contextli")||r.hasClass("e-contextliset"))&&r.removeClass("e-disable"),this.model.enabledItemIndex[u]==this._tabObj.model.selectedItemIndex&&n("#"+this._id+"_disabled").hide();for(f=0;f<e.length;f++)n(e[f]).hasClass("e-disable")&&n(e[f]).parents(".e-contextliset").addClass("e-disable");break;case"allowResizing":this.model.allowResizing&&this._ribbonWindowResize();break;case"width":this.element.width(t[o]);this.model.allowResizing&&this._ribbonWindowResize()}},_setTabContentHeight:function(){for(var r=this.element.find(".e-groupdiv"),t=[],i=0;i<r.length;i++)t.push(n(r[i]).height());t.sort();this.element.find(".e-content").height(t[t.length-1])},_init:function(){t.isNullOrUndefined(this.element)||(this._render(),this._wireEvents())},_render:function(){var r,u;this._renderTab();this._initPrivateProperties();this._groupingControls();this._customization();n("#"+this._id).append(t.buildTag("div#"+this._id+"_disabled"));r=n("#"+this._id).find(".e-content");n("#"+this._id+"_disabled").height(n(r).height()).width(this.model.width);n("#"+this._id+"_disabled").css({top:0,left:0,position:"absolute"}).addClass("e-disable");n("#"+this._id+"_disabled").hide();this.model.disabledItemIndex.length===0&&(this.model.disabledItemIndex.push(0),this._tabObj.option({disabledItemIndex:this.model.disabledItemIndex}));u=t.buildTag("div#"+this._id+"_resize").addClass("e-resizediv").hide();this.element.append(u);var i=t.buildTag("div#"+this._id+"_tooltip").addClass("e-tooltipdiv").hide(),f=t.buildTag("div#"+this._id+"_toolTip_title").addClass("e-tooltiptitle"),e=t.buildTag("div#"+this._id+"_toolTip_Desc").addClass("e-tooltipdesc");i.append(f);i.append(e);this.element.append(i)},_tooltip:function(t){n("#"+t.data.ribbonId+"_resize").is(":visible")||n(".e-gallexpandcontent").is(":visible")?(n(t.target).parents(".e-resizediv").length>0||n(t.target).parents(".e-gallexpandcontent").length>0)&&this._toolTipShow(t):this._toolTipShow(t)},_toolTipShow:function(i){var u=n("#"+i.data.ribbonId+"_tooltip"),s,h,e,r,f,o,c;u.find(".e-tooltiptitle").length<=0&&(c=t.buildTag("div#"+i.data.ribbonId+"_toolTip_title").addClass("e-tooltiptitle"),u.prepend(c));u.removeClass("e-tooltipdivwithimg");f=u.find(".e-tooltiptitle");f.children().remove();t.isNullOrUndefined(i.data.value.customToolTip.title)?f.remove():f.append(i.data.value.customToolTip.title);t.isNullOrUndefined(i.data.value.customToolTip.content)||(f.children().length<=0&&f.empty().append("<b>"+i.data.value.customToolTip.title+"<\/b>"),r=u.find(".e-tooltipdesc"),r.children().remove(),r.append(i.data.value.customToolTip.content),r.children().length<=0&&r.empty().append("<h6>"+i.data.value.customToolTip.content+"<\/h6>"),t.isNullOrUndefined(i.data.value.customToolTip.prefixIcon)?r.children().addClass("e-tooltipcontent"):(r.prepend("<span class=e-tooltipimg><\/span>"),r.find(".e-tooltipimg").addClass(i.data.value.customToolTip.prefixIcon),r.children().not("."+i.data.value.customToolTip.prefixIcon).addClass("e-tooltipcntwithimg"),u.addClass("e-tooltipdivwithimg")));s=n("#"+i.delegateTarget.id).offset();u.show();e=n("#"+i.data.ribbonId).find(".e-resizediv");o=n("#"+i.data.ribbonId).find(".e-gallexpandcontent");h=e.is(":visible")?e.height()+e.offset().top+2:o.is(":visible")?o.height()+o.offset().top+2:n("#"+i.data.ribbonId).height()+n("#"+i.data.ribbonId).offset().top;u.offset({top:h,left:s.left})},_toolTipOut:function(t){var i=n("#"+t.data.ribbonId+"_tooltip");i.hide();i.find(".e-tooltiptitle").children().remove();i.find(".e-tooltipdesc").children().remove()},_onGroupClick:function(i){var r,u,f,e;n(i.target).parents(".e-ribbongallerycontrol").length===0&&(this._trigger("groupClick",i),i.cancel||!t.raiseWebFormsServerEvents||t.isNullOrUndefined(this.model.serverEvents)||this.model.serverEvents.indexOf("groupClick")!=-1&&(r=n.extend(!0,{},this.model),u=i.target.id?i.target.id:i.target.parentNode.id,f={model:r,originalEventType:"groupClick",id:u},e={model:r,id:u},t.raiseWebFormsServerEvents("groupClick",f,e)))},_onTabClick:function(t){var r=this.element.find(".e-rarrowdown-2x"),e=this.element.find("li.e-active"),i=this.element.find(".e-collapseactive"),u,o,f=this.element.find(".e-active-content");e.length>0?(e.removeClass("e-active"),f.removeClass("e-active-content").hide()):i.length>0&&(t.activeHeader.textContent===i.find(".e-link").text()?(i.addClass("e-active").removeClass("e-collapseactive"),f.removeClass("e-collapse-content").slideDown("slow")):(u=this.element.find(".e-link"),i.removeClass("e-collapseactive"),this.element.find(".e-collapse-content").removeClass("e-collapse-content"),f.removeClass("e-active-content"),o=u.eq(t.activeIndex).attr("href"),u.eq(t.activeIndex).addClass("e-active"),n(o).slideDown("slow")));r.length>0&&(r.parent().removeClass("e-collapsed").addClass("e-expanded"),r.removeClass("e-rarrowdown-2x").addClass("e-rarrowup-2x"),this._isCollapsed=!1);this._trigger("onTabClick",t)},_onTabSelect:function(i){var o=this.element.find("li.e-active"),r,u,f;if(this.model.selectedItemIndex=i.activeIndex,o.hasClass("e-disable")||(r=this.element.find(".e-link"),u=r.eq(i.activeIndex).attr("href"),f=n(u).find("#"+this._id+"_disabled"),f&&n("#"+this._id+"_disabled").hide()),this.model.allowResizing&&this._ribbonWindowResize(),this._trigger("onTabSelect",i),t.isOnWebForms&&t.raiseWebFormsServerEvents&&!t.isNullOrUndefined(this.model.serverEvents)&&this.model.serverEvents.indexOf("onTabSelect")!=-1){var e=n.extend(!0,{},this.model),s={model:e,originalEventType:"onTabSelect",activeIndex:i.activeIndex,prevActiveIndex:i.prevActiveIndex},h={model:e,activeIndex:i.activeIndex,prevActiveIndex:i.prevActiveIndex};t.raiseWebFormsServerEvents("onTabSelect",s,h)}},_onTabAdd:function(n){this._trigger("onTabAdd",n)},_onTabRemove:function(n){this._trigger("onTabRemove",n)},_beforeTabRemove:function(n){this._trigger("beforeTabRemove",n)},_create:function(n){this._trigger("onTabCreate",n)},_onGalMoveUpClick:function(t){var i=this.element.find("#"+t.data.galleryId),r=i.find(".e-gallerycontent").children(":visible").first().prev();r.length>0&&(i.find(".e-gallerycontent").children(":visible").last().hide(),r.show().width(i.find(".e-galleryrow").first().width()),n(r).hasClass("e-gryfirstrow")&&i.find(".e-moveupdiv").addClass("e-disablegrymovebtn"),i.find(".e-movedowndiv").removeClass("e-disablegrymovebtn"))},_onGalMoveDownClick:function(t){var i=this.element.find("#"+t.data.galleryId),r=i.find(".e-gallerycontent").children(":visible").last().next();r.length>0&&(i.find(".e-gallerycontent").children(":visible").first().hide(),r.show().width(i.find(".e-galleryrow").first().width()),n(r).hasClass("e-grylastrow")&&i.find(".e-movedowndiv").addClass("e-disablegrymovebtn"),i.find(".e-moveupdiv").removeClass("e-disablegrymovebtn"))},_onGalContentClick:function(t){var i=this.element.find("#"+t.data.galleryId);n(t.target).hasClass("e-gallerybtn")?(i.find(".e-galleryselect").removeClass("e-galleryselect"),n(t.target).addClass("e-galleryselect")):n(t.target).parents(".e-gallerybtn")&&(i.find(".e-galleryselect").removeClass("e-galleryselect"),n(t.target).parents(".e-gallerybtn").addClass("e-galleryselect"))},_onExpandContentClick:function(t){var i=this.element.find("#"+t.data.galleryId);n(t.target).hasClass("e-gallerybtn")?(i.parent().find(".e-galleryselect").removeClass("e-galleryselect"),n(t.target).addClass("e-galleryselect")):n(t.target).parents(".e-gallerybtn")&&(i.parent().find(".e-galleryselect").removeClass("e-galleryselect"),n(t.target).parents(".e-gallerybtn").addClass("e-galleryselect"))},_onExpandGalleryClick:function(i){var e,r=this.element.find("#"+i.data.galleryId),u=i.data.expandedColumns,f,o,s,h;for(t.isNullOrUndefined(i.data.expandedColumns)&&(u=i.data.columns),e=Math.floor(r.find(".e-galleryrow").children().length/u),r.find(".e-galleryrow").children().length%u>0&&++e,f=1;f<=e;f++){for(o=t.buildTag("div#"+this._id+"_galleryExpanderRow_"+f).addClass("e-galleryexpanderrow").click({model:r},n.proxy(this._onGalleryItemClick,this)),s=0;s<u;s++)r.find(".e-galleryrow").children().eq(0).appendTo(o);o.appendTo(n("#"+r.attr("id")).parent().find(".e-expandercontent"))}for(r.hide(),h=0;h<i.data.columns;h++)r.find(".e-galleryrow").eq(0).append("<div><\/div>");this.element.find(".e-resizediv").is(":visible")&&(this.element.find(".e-resizediv").css("visibility","hidden"),this.element.find(".e-resizediv .e-gallexpandcontent").css("visibility","visible"));n("#"+r.attr("id")).parent().find(".e-gallexpandcontent").show();n("#"+r.attr("id")).parent().find(".e-expandercontent").height()>160&&n("#"+r.attr("id")).parent().find(".e-gallscrollcontent").ejScroller({height:160})},_onGalleryItemClick:function(i){var r,f,u,e,o;r={target:i.target,galleryModel:i.data.model,cancel:!1};n(r.target).hasClass("e-galleryexpanderrow")||(this._trigger("onGalleryItemClick",r),i.preventDefault(),t.raiseWebFormsServerEvents&&!t.isNullOrUndefined(this.model.serverEvents)&&this.model.serverEvents.indexOf("onGalleryItemClick")!=-1&&(f=n.extend(!0,{},this.model),u=r.target.id?r.target.id:r.target.parentNode.id,e={model:f,originalEventType:"onGalleryItemClick",id:u},o={model:i.data.model,id:u},t.raiseWebFormsServerEvents("onGalleryItemClick",e,o)))},_OnKeyDown:function(n){(n.keyCode===38||n.keyCode===39)&&this.model.tabs.length===this._tabObj.model.selectedItemIndex&&n.stopImmediatePropagation()},collapse:function(){var n=this.element.find(".e-active-content"),t=this.element.find("#"+this._id+"_togglebutton");n.slideUp("fast","swing");this.element.find("li.e-active").removeClass("e-active").addClass("e-collapseactive e-select");n.addClass("e-collapse-content");this._tabObj.option({selectedItemIndex:0});t.removeClass("e-expanded").addClass("e-collapsed");t.find("span").removeClass("e-rarrowup-2x").addClass("e-rarrowdown-2x");this._isCollapsed=!0},expand:function(){var n=this.element.find(".e-active-content"),t=this.element.find("#"+this._id+"_togglebutton");n.slideDown("fast","swing");this.element.find(".e-collapseactive").addClass("e-active").removeClass("e-collapseactive");n.removeClass("e-collapse-content");this._tabObj.model.selectedItemIndex=this.model.selectedItemIndex;t.removeClass("e-collapsed").addClass("e-expanded");t.find("span").removeClass("e-rarrowdown-2x").addClass("e-rarrowup-2x");this.model.allowResizing&&this._ribbonWindowResize();this._isCollapsed=!1},_onGroupExpandClick:function(n){this._trigger("groupExpand",n)},_onApplicationTabClick:function(n){this._trigger("applicationTabClick",n)},_initPrivateProperties:function(){this._tabUl=this.element.find(".e-header");this._applicationTab=this.element.find(".e-apptab");this._ribbonTabs=this._tabUl.find(":not('a')");this._tabText=this.element.find(".e-link");this._id=this.element.attr("id");this._tabObj=this.element.data("ejTab");this._isCollapsed=!1;this._contextualTabSet="";this._resizeWidth=0},_getLocalizedLabels:function(n){return t.Ribbon.Locale[this.model.locale][n]===r?t.Ribbon.Locale["en-US"][n]:t.Ribbon.Locale[this.model.locale][n]},_customization:function(){var i,r={},u;this._contextualTabs();i="<div id="+this._id+'_togglebutton class="e-expanded"><span class="e-icon e-rarrowup-2x"><\/span><\/div>';u=t.buildTag("li#"+this._id+"_expandCollapse.e-expandcollapse",i);this._tabUl.append(u);this._applicationTab.click(n.proxy(this._onApplicationTabClick,this));this._applicationTab.find(".e-link").hide();this.model.applicationTab.menuSettings&&(r=this.model.applicationTab.menuSettings);n("#"+this.model.applicationTab.itemID).appendTo(this._applicationTab);n("#"+this.model.applicationTab.itemID).ejMenu(r);this.model.applicationTab.Type!=null&&n("#"+this._id+"_"+this.model.applicationTab.Type.replace(/\s/g,"")).hide();this.element.find(".e-content").css("box-sizing","content-box")},_conTabsRemove:function(){for(var r=this.element.find(".e-contextli,.e-contextliset"),t,i=0;i<r.length;i++)t=n(r[i]),t.is(":visible")?t.find("li").insertAfter(t.eq(0)):t.find("li").hide().insertAfter(t.eq(0)),t.remove()},_contextualTabs:function(){var i,f,e,r,u;if(this.model.contextualTabs)for(r=0;r<this.model.contextualTabs.length;r++)if(i=this.model.contextualTabs[r],i.tabs.length>0){for(f=t.buildTag("li.e-contextliset"),this._contextualTabSet=this._tabUl.children(".e-contextualtabset").filter(function(){return n(this).text()===i.tabs[0].text}),this._contextualTabSet.before(f),this._tabUl.children(".e-contextualtabset").find("a").css("color",i.borderColor),e=t.buildTag("ul.e-contextul","",{background:i.backgroundColor,"border-top-color":i.borderColor}),u=0;u<i.tabs.length;u++)e.append(this._tabUl.children(".e-contextualtabset").filter(function(){return n(this).text()===i.tabs[u].text}));e.appendTo(f)}},showContextualTab:function(t){this.element.find(".e-contexttitle").filter(function(){return n(this).text()===t}).parent().parent().show()},hideContextualTab:function(t){this.element.find(".e-contexttitle").filter(function(){return n(this).text()===t}).parent().parent().hide();this._tabObj.option({selectedItemIndex:this._tabObj.model.selectedItemIndex+1})},hideTab:function(t){for(var e=this._tabText.map(function(i){if(n(this).text()===t)return i})[0],r,o=this._tabObj.model.disabledItemIndex.length,f=!0,u=this._tabText.filter(function(){return n(this).text()===t}).parents(".e-contextualtabset"),i=0;i<o;i++)this._tabObj.model.disabledItemIndex[i]===e&&(f=!1);f&&(u.length>0?u.hide():this._tabText.filter(function(){return n(this).text()===t}).parent().hide());this._tabUl.find(".e-active").is(":hidden")&&(r=this._getVisibleItemIndex(this._tabText),r&&this._tabObj.option("selectedItemIndex",r))},showTab:function(t){var r=this._tabText.map(function(i){if(n(this).text()===t)return i})[0],i;i=this._tabText.filter(function(){return n(this).text()===t}).parents(".e-contextualtabset");i.length>0?i.show():this._tabText.filter(function(){return n(this).text()===t}).parent().show()},_getVisibleItemIndex:function(t){for(var i=0;i<t.length;){if(n(t[i]).is(":visible"))return i;i++}},removeTab:function(t){var i,r;this._tabObj.model&&t>0&&(this._ribbonTabs=this._tabUl.find(".e-link").parent(),r=this._ribbonTabs.eq(t).children().attr("href"),i=this._ribbonTabs.eq(t),i.hasClass("e-contextualtab")?i.parent().remove():i.hasClass("e-contextualtabset")?i.siblings(".e-contextualtabset").length===0?i.parent().remove():i.remove():i.remove(),n(r).remove(),this._tabObj.model.selectedItemIndex===t&&(this._ribbonTabs=this._tabUl.find(".e-link").parent(),i=this._ribbonTabs.eq(t),i.addClass("e-active"),r=i.children().attr("href"),n(r).addClass("e-active-content e-activetop").show()))},addTabGroup:function(i,r,u){var s,c=0,h=0,e,l,a,y,v,f,o;if(l=this._tabUl.find(".e-select,.e-active").eq(i),s=l.children("a").attr("href"),n(l).hasClass("e-tab"))for(f=0;f<this.model.tabs.length;f++)f===i-1&&(h=this.model.tabs[f].groups.length,t.isNullOrUndefined(u)&&(u=h),this.model.tabs[f].groups.splice(u,0,r),e=this.model.tabs[f]);else for(c=this.model.tabs.length,f=0;f<this.model.contextualTabs.length;f++)for(o=0;o<this.model.contextualTabs[f].tabs.length;o++)++c,c===i&&(h=this.model.contextualTabs[f].tabs[o].groups.length,t.isNullOrUndefined(u)&&(u=h),this.model.contextualTabs[f].tabs[o].groups.splice(u,0,r),e=this.model.contextualTabs[f].tabs[o]);t.isNullOrUndefined(e.groups[u])||(a=t.isNullOrUndefined(e.groups[u].text)?e.groups[u].text:e.groups[u].text.replace(/\s/g,""),y=this._createControls(u,e,a),v=this._addControlsToGroup(u,e,a,y),n(s).children().eq(u).length>0?n(s).children().eq(u).before(v):n(s).append(v))},addTabGroupContent:function(i,r,u,f,e){var k,v=0,s,y,d,a,p,h,w,l,b,o,c;if(y=this._tabUl.find(".e-select,.e-active").eq(i),k=y.children("a").attr("href"),y.hasClass("e-tab"))for(o=0;o<this.model.tabs.length;o++)if(o===i-1)if(t.isNullOrUndefined(this.model.tabs[o].groups[r].content))for(v=this.model.tabs.length,o=0;o<this.model.contextualTabs.length;o++)for(c=0;c<this.model.contextualTabs[o].tabs.length;c++)++v,v===i&&(t.isNullOrUndefined(this.model.contextualTabs[o].tabs[c].groups[r].content)||(t.isNullOrUndefined(e)&&(e=this.model.contextualTabs[o].tabs[c].groups[r].content[u].groups.length),this.model.contextualTabs[o].tabs[c].groups[r].content[u].groups.splice(e,0,f),s=this.model.contextualTabs[o].tabs[c]));else t.isNullOrUndefined(e)&&(e=this.model.tabs[o].groups[r].content[u].groups.length),this.model.tabs[o].groups[r].content[u].groups.splice(e,0,f),s=this.model.tabs[o];t.isNullOrUndefined(s.groups[r])||(d=t.isNullOrUndefined(s.groups[r].text)?s.groups[r].text:s.groups[r].text.replace(/\s/g,""),a=this._createControls(r,s,d),l=t.buildTag("div"),p=a.find(".e-innerdiv,.e-innerdivrow").eq(u).find(".e-controlpadding").eq(e),w=a.find("#"+p.attr("id")).next(),w.hasClass("e-separatordivrow")&&l.append(w),l.prepend(p),h=n(k).children().eq(r).find(".e-innerdiv,.e-innerdivrow").eq(u),b=n(h).parent().height(),h.find(".e-controlpadding").eq(e).length>0?h.find(".e-controlpadding").eq(e).before(l.children()):h.append(l.children()),n(h).parent().height()>b&&this.element.find(".e-content").height(this.element.find(".e-content").height()+(n(h).parent().height()-b)),a.children().remove())},addTab:function(n,r,u){var e={id:n.replace(/\s/g,""),text:n,groups:r},h=this.model.tabs.length;if(t.isNullOrUndefined(u)&&(u=this._tabUl.find(".e-select,.e-active").length),u>0){for(this._conTabsRemove(),this._tabObj.addItem("#"+this._id+"_"+n.replace(/\s/g,""),n,u),this._contextualTabs(),this._tabUl.find(".e-select,.e-active").eq(u).addClass("e-tab"),this._tabUl.find(".e-select > a,.e-active > a ").eq(u).addClass("e-link"),this.model.tabs.splice(u-1,0,e),i=0;i<1;i++)for(tabs=this.model.tabs[u-1],j=0;j<tabs.groups.length;j++)if(!t.isNullOrUndefined(tabs.groups[j])){var f=t.isNullOrUndefined(tabs.groups[j].text)?tabs.groups[j].text:tabs.groups[j].text.replace(/\s/g,""),o=this._createControls(j,tabs,f),s=this._addControlsToGroup(j,tabs,f,o);tabcont=this.element.find("#"+this._id+"_"+tabs.id);tabcont.append(s).addClass("e-parentdiv")}this._setTabContentHeight();this.element.find(".e-content").css("box-sizing","content-box")}},addContextualTabs:function(n,i){var o=this.model.contextualTabs.length,r;if(t.isNullOrUndefined(i)&&(i=this._tabUl.find(".e-select,.e-active").length),i>0){for(this._conTabsRemove(),r=0;r<n.tabs.length;r++)this._tabObj.addItem("#"+this._id+"_"+n.tabs[r].id,n.tabs[r].text,i),this._tabUl.find(".e-select,.e-active").eq(i).addClass("e-contextualtabset"),this._tabUl.find(".e-select > a ,.e-active > a ").eq(i).addClass("e-link"),++i;for(this.model.contextualTabs[0].tabs.length>0?this.model.contextualTabs.splice(i-1,0,n):this.model.contextualTabs[0]=n,this._contextualTabs(),r=0;r<n.tabs.length;r++)for(tabs=n.tabs[r],j=0;j<tabs.groups.length;j++)if(!t.isNullOrUndefined(tabs.groups[j])){var u=t.isNullOrUndefined(tabs.groups[j].text)?tabs.groups[j].text:tabs.groups[j].text.replace(/\s/g,""),f=this._createControls(j,tabs,u),e=this._addControlsToGroup(j,tabs,u,f);tabcont=this.element.find("#"+this._id+"_"+tabs.id);tabcont.append(e).addClass("e-parentdiv")}this._setTabContentHeight();this.element.find(".e-content").css("box-sizing","content-box")}},setTabText:function(t,i){this._tabText.filter(function(){return n(this).text()===t}).text(i)},getTabText:function(n){return this._tabText.eq(n).text()},isVisible:function(t){var i=this._tabText.filter(function(){return n(this).text()===t}).parent();return i.is(":visible")},isEnable:function(t){for(var r=!0,u=this._tabText.filter(function(){return n(this).text()===t}).parent().index(),i=0;i<this.model.disabledItemIndex.length;i++)this.model.disabledItemIndex[i]==u&&(r=!1);return r},_renderTab:function(){var f=t.buildTag("ul"),r,u,h=this.model.applicationTab.Type,o,s,i,e;for(h!=null&&(u=t.buildTag("a","",{},{href:"#"+this._id+"_"+h.replace(/\s/g,"")})),r=t.buildTag("li.e-apptab",u),f.append(r),i=0;i<this.model.tabs.length;i++)o=this.model.tabs[i],u=t.buildTag("a",o.text,{},{href:"#"+this._id+"_"+o.id}),r=t.buildTag("li",u).addClass("e-tab"),f.append(r);if(this.model.contextualTabs)for(i=0;i<this.model.contextualTabs.length;i++)if(this.model.contextualTabs[i].tabs)for(e=0;e<this.model.contextualTabs[i].tabs.length;e++)s=this.model.contextualTabs[i].tabs[e],u=t.buildTag("a",s.text,{},{href:"#"+this._id+"_"+s.id}),r=t.buildTag("li",u).addClass("e-contextualtabset"),f.append(r);this.element.append(f);this.element.ejTab({width:this.model.width,disabledItemIndex:this.model.disabledItemIndex,enabledItemIndex:this.model.enabledItemIndex,itemActive:n.proxy(this._onTabSelect,this),beforeActive:n.proxy(this._onTabClick,this),itemAdd:n.proxy(this._onTabAdd,this),itemRemove:n.proxy(this._onTabRemove,this),beforeItemRemove:n.proxy(this._beforeTabRemove,this),create:n.proxy(this._create,this),selectedItemIndex:this.model.selectedItemIndex})},_createControls:function(i,u,f){var b,rt,s,ut,e={},y,l,p,k,w,a,h,v,ft,at,vt,yt,st,et,nt,o,g,ht,d,tt,ot,c,it;if(ut=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_content"),u.groups[i].type==="custom")u.groups[i].contentID?(rt=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+u.groups[i].type).addClass("e-innerdiv"),n("#"+u.groups[i].contentID).appendTo(rt)):rt=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+u.groups[i].type,u.groups[i].customContent).addClass("e-innerdiv"),ut.append(rt);else if(u.groups[i].content)for(c=0;c<u.groups[i].content.length;c++)if(u.groups[i].content[c]!=r)for(h=u.groups[i].content[c].groups,v=u.groups[i].content[c].defaults,u.groups[i].content.length==1&&(centerAlign=!0),t.isNullOrUndefined(u.groups[i].alignType)&&(u.groups[i].alignType=t.Ribbon.alignType.rows),u.groups[i].alignType===t.Ribbon.alignType.columns?b=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+(c+1)).addClass("e-innerdiv"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(b=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+(c+1)).addClass("e-innerdivrow"),++o),o=0;o<h.length;o++)if(!t.isNullOrUndefined(h[o])){if(t.isNullOrUndefined(v)||t.isNullOrUndefined(v.type)||(h[o].type=v.type),t.isNullOrUndefined(h[o].type)&&(h[o].type=t.Ribbon.type.button),t.isNullOrUndefined(h[o].isBig)&&!t.isNullOrUndefined(v)&&(h[o].isBig=v.isBig),t.isNullOrUndefined(h[o].height)&&!t.isNullOrUndefined(v)&&(h[o].height=v.height),t.isNullOrUndefined(h[o].width)&&!t.isNullOrUndefined(v)&&(h[o].width=v.width),h[o].type===t.Ribbon.type.custom)k=h[o],u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+k.toolTip).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+k.toolTip).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(k.customToolTip)?t.isNullOrUndefined(k.toolTip)||s.attr("title",k.toolTip):s.mouseover({value:k,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),n("#"+k.contentID).appendTo(s),t.isNullOrUndefined(v)||(t.isNullOrUndefined(v.height)||s.children().height(v.height),t.isNullOrUndefined(v.width)||s.children().width(v.width)),t.isNullOrUndefined(k.isBig)||(k.isBig?s.children().addClass("e-big"):s.children().addClass("e-small")),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+k.toolTip).addClass("e-separatordivrow"),t.isNullOrUndefined(v)?a.addClass("e-small"):t.isNullOrUndefined(v.height)?k.isBig?a.addClass("e-big"):a.addClass("e-small"):a.height(v.height),b.append(a));else if(h[o].type===t.Ribbon.type.splitButton)y=h[o],this._splitButtonControl=t.buildTag("button#"+this._id+"_"+y.id,y.text,{},{type:"button"}).addClass(y.cssClass),u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+y.id,this._splitButtonControl).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+y.id,this._splitButtonControl).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(y.customToolTip)?t.isNullOrUndefined(y.toolTip)||s.attr("title",y.toolTip):s.mouseover({value:y,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},y.splitButtonSettings&&(e=y.splitButtonSettings),e.height=t.isNullOrUndefined(e.height)?h[o].height:e.height,e.width=t.isNullOrUndefined(e.width)?h[o].width:e.width,this._splitButtonControl.ejSplitButton(e),t.isNullOrUndefined(y.isBig)||(y.isBig?s.children().removeAttr("style").addClass("e-big"):s.children().removeAttr("style").addClass("e-small")),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+y.id).addClass("e-separatordivrow"),t.isNullOrUndefined(e.height)?y.isBig?a.addClass("e-big"):a.addClass("e-small"):a.height(e.height),b.append(a));else if(h[o].type===t.Ribbon.type.toggleButton)w=h[o],this._toggleButtonControl=t.buildTag("input#"+this._id+"_"+w.id,"","",{type:"checkbox"}).addClass(w.cssClass),u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+w.id,this._toggleButtonControl).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+w.id,this._toggleButtonControl).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(w.customToolTip)?t.isNullOrUndefined(w.toolTip)||s.attr("title",w.toolTip):s.mouseover({value:w,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},w.toggleButtonSettings&&(e=w.toggleButtonSettings),e.height=t.isNullOrUndefined(e.height)?h[o].height:e.height,e.width=t.isNullOrUndefined(e.width)?h[o].width:e.width,this._toggleButtonControl.ejToggleButton(e),t.isNullOrUndefined(w.isBig)||(w.isBig?s.find(".e-togglebutton.e-tbtn.e-btn").addClass("e-big"):s.find(".e-togglebutton.e-tbtn.e-btn").addClass("e-small")),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+w.id).addClass("e-separatordivrow"),t.isNullOrUndefined(e.height)?w.isBig?a.addClass("e-big"):a.addClass("e-small"):a.height(e.height),b.append(a));else if(h[o].type===t.Ribbon.type.button)l=h[o],this._buttonControl=l.buttonSettings?l.buttonSettings.type?t.buildTag("button#"+this._id+"_"+l.id,l.text,{},{type:l.buttonSettings.type}).addClass(l.cssClass):t.buildTag("button#"+this._id+"_"+l.id,l.text).addClass(l.cssClass):t.buildTag("button#"+this._id+"_"+l.id,l.text).addClass(l.cssClass),u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+l.id,this._buttonControl).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+l.id,this._buttonControl).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(l.customToolTip)?t.isNullOrUndefined(l.toolTip)||s.attr("title",l.toolTip):s.mouseover({value:l,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},l.buttonSettings&&(e=l.buttonSettings),e.height=t.isNullOrUndefined(e.height)?h[o].height:e.height,e.width=t.isNullOrUndefined(e.width)?h[o].width:e.width,this._buttonControl.ejButton(e),t.isNullOrUndefined(l.isBig)||(l.isBig?s.children().addClass("e-big"):s.children().addClass("e-small")),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+l.id).addClass("e-separatordivrow"),t.isNullOrUndefined(e.height)?l.isBig?a.addClass("e-big"):a.addClass("e-small"):a.height(e.height),b.append(a));else if(h[o].type===t.Ribbon.type.dropDownList)p=h[o],this._dropdownControl=t.buildTag("input#"+this._id+"_"+p.id,{type:"text"}).addClass(p.cssClass),u.groups[i].alignType===t.Ribbon.alignType.columns&&p.dropdownSettings?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+p.id,this._dropdownControl).append(n("#"+p.dropdownSettings.targetID)).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&p.dropdownSettings&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+p.id,this._dropdownControl).append(n("#"+p.dropdownSettings.targetID)).addClass("e-innerdivchild e-controlpadding")),n.isEmptyObject(p.customToolTip)?t.isNullOrUndefined(p.toolTip)||s.attr("title",p.toolTip):s.mouseover({value:p,ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},p.dropdownSettings&&(e=p.dropdownSettings),e.height=t.isNullOrUndefined(e.height)?h[o].height:e.height,e.width=t.isNullOrUndefined(e.width)?h[o].width:e.width,this._dropdownControl.ejDropDownList(e),b.append(s),h[o].enableSeparator&&u.groups[i].alignType===t.Ribbon.alignType.rows&&(a=t.buildTag("div#"+this._id+"_separator_"+p.id).addClass("e-separatordivrow"),t.isNullOrUndefined(e.height)?a.addClass("e-small"):a.height(e.height),b.append(a));else if(h[o].type===t.Ribbon.type.gallery){for(gallery=h[o],this._galleryControl=t.buildTag("div#"+this._id+"_"+gallery.id+"_gallerycontrol").addClass("e-ribbongallerycontrol"),this._gallery=t.buildTag("div#"+this._id+"_"+gallery.id).addClass("e-ribbongallery"),nt=t.buildTag("div#"+this._id+"_"+gallery.id+"_ContentDiv").addClass("e-gallerycontent").height(65).width(gallery.columns*gallery.itemWidth).click({galleryId:this._gallery.attr("id")},n.proxy(this._onGalContentClick,this)),et=Math.floor(gallery.galleryItems.length/gallery.columns),gallery.galleryItems.length%gallery.columns>0&&++et,o=1;o<=et;o++){for(g=t.buildTag("div#"+this._id+"_"+gallery.id+"_galleryrow_"+o).addClass("e-galleryrow").click({model:gallery},n.proxy(this._onGalleryItemClick,this)),o===1?g.addClass("e-gryfirstrow"):o===et&&g.addClass("e-grylastrow"),ht=1;ht<=gallery.columns;ht++)d=nt.find(".e-galleryrow").children().length+g.children().length,t.isNullOrUndefined(gallery.galleryItems[d])||(tt=t.buildTag("button#"+this._id+"_galleryItem_"+(d+1),gallery.galleryItems[d].text,{},{type:"button"}).addClass("e-gallerybtn"),n.isEmptyObject(gallery.galleryItems[d].customToolTip)?t.isNullOrUndefined(gallery.galleryItems[d].toolTip)||tt.attr("title",gallery.galleryItems[d].toolTip):tt.mouseover({value:gallery.galleryItems[d],ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},gallery.galleryItems[d].buttonSettings&&(e=gallery.galleryItems[d].buttonSettings),e.height=gallery.itemHeight<=65?gallery.itemHeight:65,e.width=gallery.itemWidth,tt.ejButton(e),tt.appendTo(g));st=gallery.itemHeight>65?1:nt.height()/gallery.itemHeight;o>st&&g.hide();g.appendTo(nt)}this._gallery.append(nt);var ft=t.buildTag("div#"+this._id+"_"+gallery.id+"_PagesDiv").addClass("e-gallerymovediv"),at=t.buildTag("div#"+this._id+"_"+gallery.id+"_prevPage","<span class='e-icon e-galleryup e-gallerymoveicon'><\/span>").click({galleryId:this._gallery.attr("id"),rowCnt:st},n.proxy(this._onGalMoveUpClick,this)).addClass("e-moveupdiv e-disablegrymovebtn"),vt=t.buildTag("div#"+this._id+"_"+gallery.id+"_nextPage","<span class='e-icon e-gallerydown e-gallerymoveicon'><\/span>").click({galleryId:this._gallery.attr("id")},n.proxy(this._onGalMoveDownClick,this)).addClass("e-movedowndiv"),yt=t.buildTag("div#"+this._id+"_"+gallery.id+"_expandGallery","<span class='e-icon e-galleryexpand e-gallerymoveicon'><\/span>").click({galleryId:this._gallery.attr("id"),columns:gallery.columns,expandedColumns:gallery.expandedColumns,itemWidth:gallery.itemWidth},n.proxy(this._onExpandGalleryClick,this)).addClass("e-expgallerydiv");ft.append(at);ft.append(vt);ft.append(yt);this._gallery.append(ft);var ct=t.buildTag("div#"+this._id+"_"+gallery.id+"_ExpandContent").addClass("e-gallexpandcontent").hide(),lt=t.buildTag("div#"+this._id+"_"+gallery.id+"_scrollContent","<div><\/div>").addClass("e-gallscrollcontent"),pt=t.buildTag("div#"+this._id+"_"+gallery.id+"_ExpanderContent").addClass("e-expandercontent").click({galleryId:this._gallery.attr("id")},n.proxy(this._onExpandContentClick,this));if(lt.children().append(pt),ct.append(lt),!t.isNullOrUndefined(gallery.customGalleryItems)){for(ot=t.buildTag("div#"+this._id+"_"+gallery.id+"_ExtraContent").addClass("e-extracontent").click({model:gallery},n.proxy(this._onGalleryItemClick,this)),c=0;c<gallery.customGalleryItems.length;c++)t.isNullOrUndefined(gallery.customGalleryItems[c].customItemType)&&(gallery.customGalleryItems[c].customItemType=t.Ribbon.customItemType.button),gallery.customGalleryItems[c].customItemType===t.Ribbon.customItemType.button?(it=t.buildTag("button#"+this._id+"__extraItem_"+c,gallery.customGalleryItems[c].text,{},{type:"button"}).addClass("e-galleryextrabtn"),n.isEmptyObject(gallery.customGalleryItems[c].customToolTip)?t.isNullOrUndefined(gallery.customGalleryItems[c].toolTip)||it.attr("title",gallery.customGalleryItems[c].toolTip):it.mouseover({value:gallery.customGalleryItems[c],ribbonId:this._id},n.proxy(this._tooltip,this)).mouseout({ribbonId:this._id},n.proxy(this._toolTipOut,this)),e={},gallery.customGalleryItems[c]&&(gallery.customGalleryItems[c].buttonSettings&&(e=gallery.customGalleryItems[c].buttonSettings),it.ejButton(e)),it.appendTo(ot)):(e={},gallery.customGalleryItems[c].menuSettings&&(e=gallery.customGalleryItems[c].menuSettings),e.menuType=t.MenuType.NormalMenu,e.orientation=t.Orientation.Vertical,n("#"+gallery.customGalleryItems[c].menuId).ejMenu(e).addClass("e-gallerymenu"),n("#"+gallery.customGalleryItems[c].menuId).appendTo(ot).width("100%"));ct.append(ot)}this._galleryControl.append(this._gallery);this._galleryControl.append(ct);u.groups[i].alignType===t.Ribbon.alignType.columns?s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+gallery.id,this._galleryControl).addClass("e-controlpadding"):u.groups[i].alignType===t.Ribbon.alignType.rows&&(s=t.buildTag("div#"+this._id+"_"+u.id+"_"+f+"_"+gallery.id,this._galleryControl).addClass("e-innerdivchild e-controlpadding"));b.append(s)}ut.append(b)}return ut},_groupingControls:function(){var h=this.model.tabs.length,u,i,c,l,a,e,r,s,v=n.extend(!0,{},this.model),o,f;if(this.model.contextualTabs)for(o=0;o<this.model.contextualTabs.length;o++)if(u=this.model.contextualTabs[o],u.tabs)for(f=0;f<u.tabs.length;f++)u.tabs[f].groups.length>0&&(this.model.tabs[h]=u.tabs[f],++h);for(e=0;e<this.model.tabs.length;e++)for(i=this.model.tabs[e],r=0;r<i.groups.length;r++)t.isNullOrUndefined(i.groups[r])||(s=t.isNullOrUndefined(i.groups[r].text)?i.groups[r].text:i.groups[r].text.replace(/\s/g,""),l=this._createControls(r,i,s),c=this._addControlsToGroup(r,i,s,l),a=this.element.find("#"+this._id+"_"+i.id),a.append(c).addClass("e-parentdiv"));this._setTabContentHeight();this.model=v},_addControlsToGroup:function(i,r,u,f){var o=t.buildTag("div.e-contentbottom"),s=!1,e,h,c=t.buildTag("div.e-captionarea",r.groups[i].text);return o.append(c),r.groups[i].enableGroupExpander&&(h=t.buildTag("div#"+this._id+"_"+r.groups[i].text+"_e-groupexpander.e-icon e-expander e-groupexpander"),o.append(h)),e=t.buildTag("div#"+this._id+"_"+r.id+"_"+u).addClass("e-groupdiv").click(n.proxy(this._onGroupClick,this)),t.isNullOrUndefined(r.groups[i].content)||r.groups[i].content.length==1&&(s=!0),r.groups[i].width&&e.width(r.groups[i].width),e.append(f),s&&(e.addClass("e-centeralign"),s==!1),e.append(o),e},_tabExpandCollapse:function(t){var i,r,u;(i=t.target.tagName=="div"?t.target:t.target.parentNode,u=i.className=="e-expanded"?"collapse":"expand",r={target:n(i),type:t.type,action:u,cancel:!1},this._trigger("onToggleButtonClick",r),r.cancel)||(i.className=="e-expanded"?this.collapse():this.expand())},_ribbonWindowResize:function(){var st,s,i,h,c,tt,t,ut,l,y,ft,p=0,a,v=[],et,w,r,it,b,k,d,u,e,g,ot,o,f,nt,rt;if(this.element.find(".e-active-content").is(":visible")||this.element.find(".e-header").is(":hidden")&&this.element.find(".e-active-content").is(":hidden")){for(r=this.element.find(".e-header"),this.element.find(".e-header").is(":hidden")&&this.element.find(".e-active-content").is(":hidden")&&this._resizeWidth<=n("#"+this._id).width()+n("#"+this._id).offset().left&&(this.element.find(".e-header").show(),this.element.find(".e-active-content").show()),tt=r.find("li.e-select,li.e-active").length,e=tt-1;e>0;e--)for(t=r.find("li.e-select,li.e-active").eq(e).children(),ut=t.text().length-1,o=ut;o>1;o--)h=r.find("li.e-select,li.e-active").last().offset().left,c=r.find("li.e-select,li.e-active").last().width(),n("#"+this._id).width()+n("#"+this._id).offset().left-30-(h+c)<=0&&(t.hasClass("e-resizeHead")?t.text(t.text().slice(0,-1)):t.text(t.text().slice(0,-1)).addClass("e-resizeHead"));for(tt-1===r.find(".e-resizeHead").length&&r.find(".e-resizeHead").eq(0).text().length<=2&&n("#"+this._id).width()+n("#"+this._id).offset().left-30-(h+c)<=0&&(this._resizeWidth=n("#"+this._id).width()+n("#"+this._id).offset().left,this.element.find(".e-header").hide(),this.element.find(".e-active-content").hide()),i=this._tabObj.model.selectedItemIndex,st=this.element.find(".e-content").eq(i).attr("id"),l=this.element.find(".e-content").eq(i).children().length,s=this.element.find(".e-content").eq(i).children()[l-1],it=this.element.find(".e-content").eq(i).children().eq(l-1).find(".e-resizebtn"),u=l-1;u>=0;u--)it=this.element.find(".e-content").eq(i).children().eq(u).find(".e-resizebtn"),n("#"+this._id).width()+n("#"+this._id).offset().left-(s.offsetWidth+n(s).offset().left)<=0&&it.length===0&&this._createResizeBtn(i,u);for(n("#"+this._id).width()+n("#"+this._id).offset().left-(s.offsetWidth+n(s).offset().left)<=0&&l===this.element.find(".e-content").eq(i).find(".e-resizebtn").length&&(this._resizeWidth=n("#"+this._id).width()+n("#"+this._id).offset().left,this.element.find(".e-header").hide(),this.element.find(".e-active-content").hide()),n("#"+this._id+"_resize").is(":visible")&&(b=n("#"+this._id+"_resize").children().eq(0).attr("id"),b="#"+b.replace("_content",""),n("#"+this._id+"_resize").children().hide().appendTo(b),n("#"+this._id+"_resize").hide()),k=0;k<this.model.tabs.length;k++)d=this.model.tabs[k].text,v.push(d);if(this.model.contextualTabs)for(f=0;f<this.model.contextualTabs.length;f++)if(this.model.contextualTabs[f].tabs)for(u=0;u<this.model.contextualTabs[f].tabs.length;u++)d=this.model.contextualTabs[f].tabs[u].text,v.push(d);for(et=r.find(".e-resizeHead").length,e=0;e<et;e++)if(t=r.find(".e-resizeHead").eq(0),t.hasClass("e-resizeHead"))for(g=r.find("li.e-select,li.e-active").find(".e-link").not(".e-resizeHead").length-1,ot=t.text().length,o=ot;o<=v[g].length;o++)h=r.find("li.e-select,li.e-active").last().offset().left,c=r.find("li.e-select,li.e-active").last().width()+15,n("#"+this._id).width()+n("#"+this._id).offset().left-30>=h+c&&(t.text().length===v[g].length?t.removeClass("e-resizeHead"):t.text(v[g].slice(0,t.text().length+1)));for(p=this.element.find(".e-content").eq(i).find(".e-resizebtn").length,f=0;f<p;f++)if(a=this.element.find(".e-content").eq(i).find(".e-resizebtn").eq(0),n(a).is(":visible")){if(ft=n("#"+this._id).width()+n("#"+this._id).offset().left,y=this.element.find(".e-content").eq(i).find(".e-resizebtn").eq(0).offset().left+a.parent().siblings().not(".e-contentbottom").width(),p>1)for(nt=1;nt<p;nt++)y=y+this.element.find(".e-content").eq(i).find(".e-resizebtn").eq(nt).parents(".e-groupdiv").width()+7;ft>y&&(rt=a.parent().siblings(),a.parent().remove(),rt.show(),rt.not(".e-contentbottom").css("width",""))}w=n("#"+this._id+"_tooltip");w.hide();w.find(".e-tooltiptitle").children().remove();w.find(".e-tooltipdesc").children().remove()}},_createResizeBtn:function(i,r){var u,o,f=this.element.find(".e-content").eq(i).children().eq(r);u=f.find(".e-contentbottom").text();o=f.children().not(".e-contentbottom").width();f.children().hide();f.children().not(".e-contentbottom").css("width",o);var s=t.buildTag("div#"+this._id+"_resizeDiv_"+u),e=t.buildTag("button#"+this._id+"_resizebtn_"+u,u,{},{type:"button"}).addClass("e-resizebtn"),h={target:this.element.find(".e-content").eq(i).children().eq(r).children()};e.ejButton({click:n.proxy(this._resizeBtnClick,h),contentType:t.ContentType.TextAndImage,imagePosition:t.ImagePosition.ImageBottom,prefixIcon:"e-ribbonresize"});e.find("div").prepend("<span class=e-"+u+"><\/span>");e.appendTo(s);s.appendTo(this.element.find(".e-content").eq(i).children().eq(r))},_resizeBtnClick:function(){},_ribbonDocClick:function(i){var r,u,f;r=n(i.target).parents(".e-resizediv");r.length<=0&&(n(i.target).hasClass("e-resizebtn")?r=n(i.target):t.isNullOrUndefined(n(i.target).parents(".e-resizebtn"))||(r=n(i.target).parents(".e-resizebtn")));this.element.find(".e-resizediv").is(":visible")&&this.element.find(".e-resizediv .e-gallexpandcontent").is(":visible")?(n(i.target).hasClass("e-gallerymoveicon")||n(i.target).hasClass("e-gallerymovediv")||n(i.target).hasClass("e-expgallerydiv")||n(i.target).hasClass("e-scrollbar")||n(i.target).parents().hasClass("e-scrollbar")?u=i.target:n(i.target).parents().hasClass("e-gallerymenu")&&(n(i.target).hasClass("e-haschild")||n(i.target).hasClass("aschild")||n(i.target).hasClass("e-arrows"))&&(u=i.target),t.isNullOrUndefined(u)&&(this._ribbonGalleryShow(),this.element.find(".e-resizediv").show().css("visibility",""),this.element.find(".e-resizediv .e-gallexpandcontent").hide().css("visibility",""))):r.length<=0?this._resizeDivHide():n(r).hasClass("e-resizebtn")&&(n("#"+this._id+"_resize").is(":visible")?r.parent().siblings(".e-contentbottom").length<=0?this._resizeDivHide():(this._resizeDivHide(),this._resizeDivShow(r)):this._resizeDivShow(r));n(i.target).hasClass("e-gallerymoveicon")||n(i.target).hasClass("e-gallerymovediv")||n(i.target).hasClass("e-expgallerydiv")||n(i.target).hasClass("e-scrollbar")||n(i.target).parents().hasClass("e-scrollbar")?u=i.target:n(i.target).parents().hasClass("e-gallerymenu")&&(n(i.target).hasClass("e-haschild")||n(i.target).hasClass("aschild")||n(i.target).hasClass("e-arrows"))&&(u=i.target);t.isNullOrUndefined(u)&&this._ribbonGalleryShow();f=n("#"+this._id+"_tooltip");f.hide()},_ribbonGalleryShow:function(){var u=0,r,f,i,e,o,t;if(this.element.find(".e-gallexpandcontent").is(":visible")){for(r=0,f=0,gallery=this.element.find(".e-gallexpandcontent").parent().find(".e-ribbongallery"),t=1;t<=gallery.find(".e-galleryrow").length;t++)gallery.find(".e-galleryrow").eq(t-1).css("display")==="block"&&(r===0&&(u=t-1),++r);for(gallery.find(".e-galleryrow").hide(),gallery.parent().find(".e-gallexpandcontent").hide(),gallery.show(),gryColumns=gallery.find(".e-galleryrow").eq(0).children().length,gallery.find(".e-galleryrow").eq(0).children().remove(),i=0;i<gallery.find(".e-galleryrow").length;i++)for(e=0;e<gryColumns;e++)if(o=gallery.parent().find(".e-galleryexpanderrow").children().eq(0).attr("id"),n("#"+o).hasClass("e-galleryselect")){for(gallery.find(".e-galleryrow").eq(i).append(gallery.parent().find(".e-galleryexpanderrow").children().eq(0)).show(),--r,t=1;t<=r;t++)gallery.find(".e-galleryrow").eq(i+t).length>0?gallery.find(".e-galleryrow").eq(i+t).show():(++f,gallery.find(".e-galleryrow").eq(i-f).show());gallery.find(".e-galleryrow").last().is(":visible")?gallery.parent().find(".e-movedowndiv").addClass("e-disablegrymovebtn"):gallery.parent().find(".e-movedowndiv").removeClass("e-disablegrymovebtn");gallery.find(".e-galleryrow").first().is(":visible")?gallery.parent().find(".e-moveupdiv").addClass("e-disablegrymovebtn"):gallery.parent().find(".e-moveupdiv").removeClass("e-disablegrymovebtn")}else gallery.find(".e-galleryrow").eq(i).append(gallery.parent().find(".e-galleryexpanderrow").children().eq(0));if(gallery.find(".e-galleryselect").length<=0)for(t=0;t<r;t++)gallery.find(".e-galleryrow").eq(u).show(),++u;gallery.parent().find(".e-galleryexpanderrow").remove()}},_resizeDivHide:function(){if(n("#"+this._id+"_resize").is(":visible")){var i=n("#"+this._id+"_resize").children().eq(0).attr("id");t.isNullOrUndefined(i)||(i="#"+i.slice(0,-8),n("#"+this._id+"_resize").children().hide().appendTo(i),n("#"+this._id+"_resize").hide())}},_resizeDivShow:function(t){var r,u,i;i=n("#"+t[0].id).parent().siblings();r=i.not(".e-contentbottom").width()+i.parent().offset().left;n("#"+this._id).css({position:"relative"});r>n("#"+this._id).width()+n("#"+this._id).offset().left?(u=i.parent().position().left-(r-(n("#"+this._id).width()+n("#"+this._id).offset().left)),n("#"+this._id+"_resize").offset({left:u})):n("#"+this._id+"_resize").offset({left:i.parent().position().left});n("#"+this._id+"_resize").width(i.not(".e-contentbottom").css("width"));n("#"+this._id+"_resize").append(i.show()).show()},_wireEvents:function(){this._on(this.element,"keydown",this._OnKeyDown);this._on(this.element.find("#"+this._id+"_togglebutton"),t.eventType.click,this._tabExpandCollapse);this._on(this.element.find(".e-groupexpander"),t.eventType.click,this._onGroupExpandClick);this.model.allowResizing&&n(window).bind("resize",n.proxy(this._ribbonWindowResize,this));this._on(n(document),"click",this._ribbonDocClick)}});t.Ribbon.alignType={rows:"rows",columns:"columns"};t.Ribbon.type={button:"button",splitButton:"splitbutton",dropDownList:"dropdownlist",custom:"custom",toggleButton:"togglebutton",gallery:"gallery"};t.Ribbon.customItemType={button:"button",menu:"menu"};t.Ribbon.Locale={};t.Ribbon.Locale["en-US"]={ExpandCollapse:"Expand Collapse"}})(jQuery,Syncfusion)})